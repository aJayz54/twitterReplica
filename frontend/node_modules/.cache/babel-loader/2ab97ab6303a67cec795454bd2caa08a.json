{"ast":null,"code":"var _jsxFileName = \"/Users/andrew/twitter/frontend/src/App.js\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.refreshList = () => {\n      axios.get(\"/api/tweets/\").then(res => this.setState({\n        tweets: res.data\n      })).catch(err => console.log(err));\n    };\n\n    this.renderTweets = () => {\n      const tweetList = this.state.tweets;\n      return tweetList.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"list-group-item d-flex justify-content-between align-items-center\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [item.user.username, \" : \", item.post_text]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 9\n        }, this)\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }, this));\n    };\n\n    this.state = {\n      tweets: [],\n      newText: ''\n    };\n    this.handleTextChange = this.handleTextChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    this.refreshList();\n  }\n\n  handleTextChange(event) {\n    this.setState({\n      newText: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    var currentDate = new Date();\n    var date = currentDate.getFullYear() + '-' + (currentDate.getMonth() + 1) + '-' + currentDate.getDate() + 'T' + currentDate.getHours() + \":\" + currentDate.getMinutes() + \":00Z\";\n    const item = {\n      post_text: this.state.newText,\n      image: null,\n      pub_date: date\n    };\n    axios.post(\"/api/tweets/\", item).then(res => this.refreshList());\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      className: true,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-black text-center bg-info my-4\",\n        children: \"Twitter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"input-group mb-3 col-md-6 col-sm-10 mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          class: \"form-control form-control-lg flex-nowrap mx-auto\",\n          placeholder: \"enter tweet here\",\n          value: this.state.newText,\n          onChange: this.handleTextChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"input-group-append\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"btn btn-outline-secondary\",\n            type: \"button\",\n            id: \"button-addon2\",\n            onClick: this.handleSubmit,\n            children: \"Tweet!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6 col-sm-10 mx-auto p-0\",\n          children: this.renderTweets()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/andrew/twitter/frontend/src/App.js"],"names":["React","Component","axios","App","constructor","props","refreshList","get","then","res","setState","tweets","data","catch","err","console","log","renderTweets","tweetList","state","map","item","user","username","post_text","id","newText","handleTextChange","bind","handleSubmit","componentDidMount","event","target","value","currentDate","Date","date","getFullYear","getMonth","getDate","getHours","getMinutes","image","pub_date","post","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from \"axios\";\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tweets: [],\n      newText: '',\n    };\n\n    this.handleTextChange = this.handleTextChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    this.refreshList();\n  }\n\n  refreshList = () => {\n    axios\n      .get(\"/api/tweets/\")\n      .then((res) => this.setState({tweets : res.data}))\n      .catch((err) => console.log(err))\n  }\n\n  handleTextChange(event) {\n    this.setState({newText : event.target.value})\n  }\n\n  handleSubmit(event) {\n    var currentDate = new Date();\n    var date = currentDate.getFullYear()+ '-' + (currentDate.getMonth()+1)+ '-' + currentDate.getDate()+'T' + currentDate.getHours()+\":\"+currentDate.getMinutes()+\":00Z\"\n    const item = {\n      post_text: this.state.newText,\n      image: null,\n      pub_date: date,\n    }\n\n    axios\n      .post(\"/api/tweets/\", item)\n      .then((res) => this.refreshList());\n  }\n  renderTweets = () => {\n    const tweetList = this.state.tweets;\n\n    return tweetList.map((item) => (\n      <li key = {item.id}\n      className = \"list-group-item d-flex justify-content-between align-items-center\">\n        <span>\n          {item.user.username} : {item.post_text}\n        </span>\n      </li>\n    ));\n  };\n\n\n  render() {\n    return (\n      <main className>\n        <h1 className=\"text-black text-center bg-info my-4\">Twitter</h1>\n        <div class = \"input-group mb-3 col-md-6 col-sm-10 mx-auto\">\n          <input type=\"text\" class = \"form-control form-control-lg flex-nowrap mx-auto\" placeholder = \"enter tweet here\" value = {this.state.newText} onChange = {this.handleTextChange}/>\n          <div class = \"input-group-append\">\n            <button class=\"btn btn-outline-secondary\" type=\"button\" id=\"button-addon2\" onClick={this.handleSubmit}>Tweet!</button>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-6 col-sm-10 mx-auto p-0\">\n                {this.renderTweets()}\n          </div>\n        </div>\n      </main>\n    );\n  }\n\n}\n\nexport default App;\n\n"]},"metadata":{},"sourceType":"module"}