{"ast":null,"code":"var _jsxFileName = \"/Users/andrew/twitter/frontend/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.refreshList = () => {\n      axios.get(\"/api/tweets/\").then(res => this.setState({\n        tweets: res.data\n      })).catch(err => console.log(err));\n      axios.get(\"/api/users/\").then(res => this.setState({\n        users: res.data\n      })).catch(err => console.log(err));\n\n      for (let i = 0; i < Object.keys(this.state.users).length; i++) {\n        if (this.state.users[i].username == this.state.currentUsername) {\n          this.setState({\n            currentUser: this.state.users[i].id\n          });\n        }\n\n        ;\n      }\n    };\n\n    this.renderTweets = () => {\n      const tweetList = this.state.tweets;\n      return tweetList.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"list-group-item d-flex justify-content-between align-items-center\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [this.state.users[item.user - 1].username, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 11\n          }, this), item.post_text, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"btn btn-primary\",\n            children: \"Like\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 9\n        }, this)\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 7\n      }, this));\n    };\n\n    this.state = {\n      tweets: [],\n      users: [],\n      newText: '',\n      isLoggedIn: false,\n      registerEmail: '',\n      registerPassword1: '',\n      registerPassword2: '',\n      registerUsername: '',\n      loginEmail: '',\n      loginPassword: '',\n      loginUsername: '',\n      currentUsername: '',\n      currentUser: null,\n      registerUser: false\n    };\n    this.refreshList();\n    this.handleTextChange = this.handleTextChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleRegEmail = this.handleRegEmail.bind(this);\n    this.handleRegPassword1 = this.handleRegPassword1.bind(this);\n    this.handleRegPassword2 = this.handleRegPassword2.bind(this);\n    this.handleRegUsername = this.handleRegUsername.bind(this);\n    this.register = this.register.bind(this);\n    this.handleLoginEmail = this.handleLoginEmail.bind(this);\n    this.handleLoginPassword = this.handleLoginPassword.bind(this);\n    this.handleLoginUsername = this.handleLoginUsername.bind(this);\n    this.login = this.login.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.refreshList();\n  }\n\n  handleTextChange(event) {\n    this.setState({\n      newText: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    var currentDate = new Date();\n    var date = currentDate.getFullYear() + '-' + (currentDate.getMonth() + 1) + '-' + currentDate.getDate() + 'T' + currentDate.getHours() + \":\" + currentDate.getMinutes() + \":00Z\";\n    const item = {\n      user: this.state.currentUser,\n      post_text: this.state.newText,\n      likes: [],\n      image: null,\n      pub_date: date\n    };\n    console.log(item);\n    axios.post(\"/api/tweets/\", item).then(res => this.refreshList());\n  }\n\n  handleRegEmail(event) {\n    this.setState({\n      registerEmail: event.target.value\n    });\n  }\n\n  handleRegPassword1(event) {\n    this.setState({\n      registerPassword1: event.target.value\n    });\n  }\n\n  handleRegPassword2(event) {\n    this.setState({\n      registerPassword2: event.target.value\n    });\n  }\n\n  handleRegUsername(event) {\n    this.setState({\n      registerUsername: event.target.value\n    });\n  }\n\n  handleChange(event) {\n    this.setState(prevstate => ({\n      registerUser: !prevstate.registerUser\n    }));\n  }\n\n  register(event) {\n    event.preventDefault();\n    const user = {\n      email: this.state.registerEmail,\n      username: this.state.registerUsername,\n      password1: this.state.registerPassword1,\n      password2: this.state.registerPassword2\n    };\n    fetch('http://127.0.0.1:8000/api/v1/users/auth/register/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(user)\n    }).then(res => res.json()).then(data => {\n      if (data.key) {\n        localStorage.clear();\n        localStorage.setItem('token', data.key);\n        this.setState({\n          currentUsername: user.username\n        });\n        this.setState({\n          isLoggedIn: true\n        });\n        this.refreshList();\n      } else {\n        this.setState({\n          registerEmail: ''\n        });\n        this.setState({\n          registerPassword1: ''\n        });\n        this.setState({\n          registerPassword2: ''\n        });\n        this.setState({\n          registerUsername: ''\n        });\n        localStorage.clear();\n      }\n    });\n  }\n\n  handleLoginEmail(event) {\n    this.setState({\n      loginEmail: event.target.value\n    });\n  }\n\n  handleLoginPassword(event) {\n    this.setState({\n      loginPassword: event.target.value\n    });\n  }\n\n  handleLoginUsername(event) {\n    this.setState({\n      loginUsername: event.target.value\n    });\n  }\n\n  login(event) {\n    event.preventDefault();\n    const user = {\n      email: this.state.loginEmail,\n      username: this.state.loginUsername,\n      password: this.state.loginPassword\n    };\n    fetch('http://127.0.0.1:8000/api/v1/users/auth/login/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(user)\n    }).then(res => res.json()).then(data => {\n      if (data.key) {\n        localStorage.clear();\n        localStorage.setItem('token', data.key);\n        this.setState({\n          currentUsername: user.username\n        });\n        this.setState({\n          isLoggedIn: true\n        });\n        this.refreshList();\n      } else {\n        this.setState({\n          loginEmail: ''\n        });\n        this.setState({\n          loginPassword: ''\n        });\n        this.setState({\n          loginUsername: ''\n        });\n        localStorage.clear();\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [this.state.isLoggedIn && /*#__PURE__*/_jsxDEV(\"main\", {\n        className: true,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-black text-center bg-info my-4\",\n          children: \"Twitter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"input-group mb-3 col-md-6 col-sm-10 mx-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            class: \"form-control form-control-lg flex-nowrap mx-auto\",\n            placeholder: \"enter tweet here\",\n            value: this.state.newText,\n            onChange: this.handleTextChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"input-group-append\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              class: \"btn btn-outline-secondary\",\n              type: \"button\",\n              id: \"button-addon2\",\n              onClick: this.handleSubmit,\n              children: \"Tweet!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6 col-sm-10 mx-auto p-0 text-wrap\",\n            children: this.renderTweets()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 7\n      }, this), !this.state.isLoggedIn && !this.state.registerUser && /*#__PURE__*/_jsxDEV(\"main\", {\n        className: true,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-black text-center bg-info my-4\",\n          children: \"Twitter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"wrapper fadeInDown\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"formContent\",\n            children: [/*#__PURE__*/_jsxDEV(\"form\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Sign in! \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                id: \"email\",\n                class: \"fadeIn second\",\n                name: \"email\",\n                placeholder: \"email\",\n                value: this.state.loginEmail,\n                onChange: this.handleLoginEmail\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"username\",\n                id: \"username\",\n                class: \"fadeIn third\",\n                name: \"username\",\n                placeholder: \"username\",\n                value: this.state.loginUsername,\n                onChange: this.handleLoginUsername\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                id: \"password\",\n                class: \"fadeIn fourth\",\n                name: \"password\",\n                placeholder: \"password\",\n                value: this.state.loginPassword,\n                onChange: this.handleLoginPassword\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"submit\",\n                class: \"fadeIn fifth\",\n                value: \"Log in\",\n                onClick: this.login\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"formFooter\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                class: \"underlineHover\",\n                href: \"#\",\n                children: \"Forgot Password?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                class: \"underlineHover\",\n                onClick: this.handleChange,\n                children: \"Register\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 7\n      }, this), !this.state.isLoggedIn && this.state.registerUser && /*#__PURE__*/_jsxDEV(\"main\", {\n        className: true,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-black text-center my-4\",\n          children: \"Twitter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"wrapper fadeInDown\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"formContent\",\n            children: [/*#__PURE__*/_jsxDEV(\"form\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Register \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                id: \"regemail\",\n                class: \"fadeIn second\",\n                name: \"email\",\n                placeholder: \"email\",\n                value: this.state.registerEmail,\n                onChange: this.handleRegEmail\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"username\",\n                id: \"regusername\",\n                class: \"fadeIn third\",\n                name: \"username\",\n                placeholder: \"username\",\n                value: this.state.registerUsername,\n                onChange: this.handleRegUsername\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                id: \"password1\",\n                class: \"fadeIn fourth\",\n                name: \"password1\",\n                placeholder: \"password\",\n                value: this.state.registerPassword1,\n                onChange: this.handleRegPassword1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                id: \"password2\",\n                class: \"fadeIn fourth\",\n                name: \"password2\",\n                placeholder: \"enter password again!\",\n                value: this.state.registerPassword2,\n                onChange: this.handleRegPassword2\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"submit\",\n                class: \"fadeIn fifth\",\n                value: \"Register!\",\n                onClick: this.register\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"formFooter\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                class: \"underlineHover\",\n                onClick: this.handleChange,\n                children: \"Forgot Password?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                class: \"underlineHover\",\n                onClick: this.handleChange,\n                children: \"Already Have An Account?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/andrew/twitter/frontend/src/App.js"],"names":["React","Component","axios","App","constructor","props","refreshList","get","then","res","setState","tweets","data","catch","err","console","log","users","i","Object","keys","state","length","username","currentUsername","currentUser","id","renderTweets","tweetList","map","item","user","post_text","newText","isLoggedIn","registerEmail","registerPassword1","registerPassword2","registerUsername","loginEmail","loginPassword","loginUsername","registerUser","handleTextChange","bind","handleSubmit","handleRegEmail","handleRegPassword1","handleRegPassword2","handleRegUsername","register","handleLoginEmail","handleLoginPassword","handleLoginUsername","login","handleChange","componentDidMount","event","target","value","currentDate","Date","date","getFullYear","getMonth","getDate","getHours","getMinutes","likes","image","pub_date","post","prevstate","preventDefault","email","password1","password2","fetch","method","headers","body","JSON","stringify","json","key","localStorage","clear","setItem","password","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport axios from \"axios\";\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tweets: [],\n      users: [],\n      newText: '',\n      isLoggedIn: false,\n      registerEmail: '',\n      registerPassword1: '',\n      registerPassword2: '',\n      registerUsername: '',\n      loginEmail: '',\n      loginPassword: '',\n      loginUsername: '',\n      currentUsername: '',\n      currentUser:null,\n      registerUser: false,\n    };\n    this.refreshList();\n\n    this.handleTextChange = this.handleTextChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleRegEmail = this.handleRegEmail.bind(this);\n    this.handleRegPassword1=this.handleRegPassword1.bind(this);\n    this.handleRegPassword2 = this.handleRegPassword2.bind(this);\n    this.handleRegUsername=this.handleRegUsername.bind(this);\n    this.register = this.register.bind(this);\n    this.handleLoginEmail = this.handleLoginEmail.bind(this);\n    this.handleLoginPassword = this.handleLoginPassword.bind(this);\n    this.handleLoginUsername=this.handleLoginUsername.bind(this);\n    this.login = this.login.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.refreshList();\n  }\n\n  refreshList = () => {\n    axios\n      .get(\"/api/tweets/\")\n      .then((res) => this.setState({tweets : res.data}))\n      .catch((err) => console.log(err))\n    \n    axios\n      .get(\"/api/users/\")\n      .then((res) => this.setState({users : res.data}))\n      .catch((err) => console.log(err))\n    \n      for (let i = 0; i < Object.keys(this.state.users).length; i++) {\n        if (this.state.users[i].username == this.state.currentUsername) {\n          this.setState({currentUser: this.state.users[i].id});\n        };\n      }\n  }\n\n  handleTextChange(event) {\n    this.setState({newText : event.target.value})\n  }\n\n  handleSubmit(event) {\n    var currentDate = new Date();\n    var date = currentDate.getFullYear()+ '-' + (currentDate.getMonth()+1)+ '-' + currentDate.getDate()+'T' + currentDate.getHours()+\":\"+currentDate.getMinutes()+\":00Z\"\n    \n    \n    const item = {\n      user: this.state.currentUser,\n      post_text: this.state.newText,\n      likes: [],\n      image: null,\n      pub_date: date,\n    }\n    console.log(item)\n    axios\n      .post(\"/api/tweets/\", item)\n      .then((res) => this.refreshList());\n  }\n\n  handleRegEmail(event) {\n    this.setState({registerEmail : event.target.value})\n  }\n\n  handleRegPassword1(event) {\n    this.setState({registerPassword1: event.target.value})\n  }\n\n  handleRegPassword2(event) {\n    this.setState({registerPassword2: event.target.value})\n  }\n\n  handleRegUsername(event) {\n    this.setState({registerUsername: event.target.value})\n  }\n\n  handleChange(event) {\n    this.setState(prevstate =>\n      ({registerUser : !prevstate.registerUser})\n    )\n  }\n\n  register(event) {\n    event.preventDefault();\n\n    const user = {\n      email: this.state.registerEmail,\n      username: this.state.registerUsername,\n      password1: this.state.registerPassword1,\n      password2: this.state.registerPassword2,\n    };\n\n    fetch ('http://127.0.0.1:8000/api/v1/users/auth/register/', {\n      method : 'POST',\n      headers : {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(user)\n    })\n      .then(res => res.json())\n      .then(data => {\n        if (data.key) {\n          localStorage.clear();\n          localStorage.setItem('token', data.key)\n          this.setState({currentUsername: user.username})\n          this.setState({isLoggedIn : true});\n          this.refreshList();\n        } else {\n          this.setState({registerEmail: ''});\n          this.setState({registerPassword1: ''});\n          this.setState({registerPassword2: ''});\n          this.setState({registerUsername: ''});\n          localStorage.clear();\n        }\n        });\n  };\n\n  handleLoginEmail(event) {\n    this.setState({loginEmail : event.target.value})\n  }\n  \n  handleLoginPassword(event) {\n    this.setState({loginPassword: event.target.value})\n  }\n\n  handleLoginUsername(event) {\n    this.setState({loginUsername: event.target.value})\n  }\n\n  login(event) {\n    event.preventDefault();\n\n    const user = {\n      email: this.state.loginEmail,\n      username: this.state.loginUsername,\n      password: this.state.loginPassword,\n    };\n\n    \n    fetch ('http://127.0.0.1:8000/api/v1/users/auth/login/', {\n      method : 'POST',\n      headers : {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(user)\n    })\n      .then(res => res.json())\n      .then(data => {\n        if (data.key) {\n          localStorage.clear();\n          localStorage.setItem('token', data.key);\n          this.setState({currentUsername : user.username})\n          this.setState({isLoggedIn : true});\n          this.refreshList();\n        } else {\n          this.setState({loginEmail: ''});\n          this.setState({loginPassword: ''});\n          this.setState({loginUsername: ''});\n          localStorage.clear();\n        }\n        });\n  };\n\n  renderTweets = () => {\n    const tweetList = this.state.tweets;\n    \n    return tweetList.map((item) => (\n      <li key = {item.id}\n      className = \"list-group-item d-flex justify-content-between align-items-center\">\n        <span>\n          <h2>{this.state.users[item.user - 1].username} </h2>\n          <br/>\n                  {item.post_text}\n          <br/>\n          <button class = \"btn btn-primary\">Like</button>\n        </span>\n      </li>\n    ));\n  };\n\n\n  render() {\n    return (\n      <div>\n      { this.state.isLoggedIn && \n      <main className>\n        <h1 className=\"text-black text-center bg-info my-4\">Twitter</h1>\n        <div class = \"input-group mb-3 col-md-6 col-sm-10 mx-auto\">\n          <input type=\"text\" class = \"form-control form-control-lg flex-nowrap mx-auto\" placeholder = \"enter tweet here\" value = {this.state.newText} onChange = {this.handleTextChange}/>\n          <div class = \"input-group-append\">\n            <button class=\"btn btn-outline-secondary\" type=\"button\" id=\"button-addon2\" onClick={this.handleSubmit}>Tweet!</button>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-6 col-sm-10 mx-auto p-0 text-wrap\">\n                {this.renderTweets()}\n          </div>\n        </div>\n      </main>\n      }\n      { !this.state.isLoggedIn && !this.state.registerUser &&\n      <main className>\n        <h1 className=\"text-black text-center bg-info my-4\">Twitter</h1>\n        <div class=\"wrapper fadeInDown\">\n          <div id = \"formContent\">\n            <form>\n              <h2>Sign in! </h2>\n              <br/>\n              <input type = \"text\" id = \"email\" class = \"fadeIn second\" name = \"email\" placeholder = \"email\" value = {this.state.loginEmail} onChange = {this.handleLoginEmail}/>\n              <br/>\n              <input type = \"username\" id = \"username\" class = \"fadeIn third\" name = \"username\" placeholder = \"username\" value = {this.state.loginUsername} onChange = {this.handleLoginUsername}/>\n              <br/>\n              <input type = \"password\" id = \"password\" class = \"fadeIn fourth\" name = \"password\" placeholder = \"password\" value = {this.state.loginPassword} onChange = {this.handleLoginPassword}/>\n              <br/>\n              <input type = \"submit\" class = \"fadeIn fifth\" value = \"Log in\" onClick={this.login}/>\n            </form>\n            <div id=\"formFooter\">\n              <button class = \"underlineHover\" href = \"#\">Forgot Password?</button>\n              <br/>\n              <button class = \"underlineHover\" onClick={this.handleChange}>Register</button>\n            </div>\n          </div>\n        </div>\n      </main>\n      }\n      { !this.state.isLoggedIn && this.state.registerUser &&\n      <main className>\n      <h1 className=\"text-black text-center my-4\">Twitter</h1>\n      <div class=\"wrapper fadeInDown\">\n        <div id = \"formContent\">\n          <form>\n            <h2>Register </h2>\n            <br/>\n            <input type = \"text\" id = \"regemail\" class = \"fadeIn second\" name = \"email\" placeholder = \"email\" value = {this.state.registerEmail} onChange = {this.handleRegEmail}/>\n            <br/>\n            <input type = \"username\" id = \"regusername\" class = \"fadeIn third\" name = \"username\" placeholder = \"username\" value = {this.state.registerUsername} onChange = {this.handleRegUsername}/>\n            <br/>\n            <input type = \"password\" id = \"password1\" class = \"fadeIn fourth\" name = \"password1\" placeholder = \"password\" value = {this.state.registerPassword1} onChange = {this.handleRegPassword1}/>\n            <br/>\n            <input type = \"password\" id = \"password2\" class = \"fadeIn fourth\" name = \"password2\" placeholder = \"enter password again!\" value = {this.state.registerPassword2} onChange = {this.handleRegPassword2}/>\n            <br/>\n            <input type = \"submit\" class = \"fadeIn fifth\" value = \"Register!\" onClick={this.register}/>\n          </form>\n          <div id=\"formFooter\">\n            <button class = \"underlineHover\" onClick={this.handleChange}>Forgot Password?</button>\n            <br/>\n            <button type=\"submit\" class = \"underlineHover\" onClick={this.handleChange}>Already Have An Account?</button>\n          </div>\n        </div>\n      </div>\n    </main>\n      }\n      </div>\n    );\n  }\n\n}\n\nexport default App;\n\n"]},"metadata":{},"sourceType":"module"}